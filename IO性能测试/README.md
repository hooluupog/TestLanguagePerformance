Some languages use buffered `stdout`,`print` by default but some not.
So manually implementing `buffer` for those unbuffered to make the test be relatively more precise. 
